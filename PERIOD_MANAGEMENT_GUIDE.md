# دليل إدارة الفترات الزمنية - Period Management Guide

## نظرة عامة

كعضو في لجنة المشاريع، يمكنك إنشاء وإدارة الفترات الزمنية (Time Windows) التي تتحكم في متى يمكن للطلاب والمشرفين تنفيذ إجراءات معينة في النظام.

## الوصول إلى صفحة إدارة الفترات

1. سجل الدخول بحساب **لجنة المشاريع** (Projects Committee)
2. من القائمة الجانبية، اختر **"الفترات الزمنية"** (Periods)
3. أو انتقل مباشرة إلى: `/projects-committee/periods`

## أنواع الفترات الزمنية

### 1. فترة تقديم المقترحات (Proposal Submission)
- **النوع**: `proposal_submission`
- **الوصف**: تسمح للطلاب والمشرفين بتقديم مقترحات مشاريع جديدة
- **متى تُستخدم**: في بداية الفصل الدراسي

### 2. فترة التسجيل في المشاريع (Project Registration) ⭐
- **النوع**: `project_registration`
- **الوصف**: تسمح للطلاب بالتسجيل في المشاريع المعتمدة والمعلنة
- **متى تُستخدم**: بعد اعتماد المشاريع وإعلانها
- **هذا هو النوع المطلوب لفتح التسجيل للطلاب**

### 3. فترة تسليم الوثائق (Document Submission)
- **النوع**: `document_submission`
- **الوصف**: تسمح للطلاب برفع الوثائق والتقارير
- **متى تُستخدم**: خلال فترة تنفيذ المشاريع

### 4. فترة تقييم المشرف (Supervisor Evaluation)
- **النوع**: `supervisor_evaluation`
- **الوصف**: تسمح للمشرفين بتسجيل درجات الإشراف
- **متى تُستخدم**: بعد انتهاء المشاريع

### 5. فترة تقييم لجنة المناقشة (Committee Evaluation)
- **النوع**: `committee_evaluation`
- **الوصف**: تسمح للجان المناقشة بتسجيل درجات المناقشة
- **متى تُستخدم**: بعد تقييم المشرف

## كيفية إنشاء فترة تسجيل جديدة

### الخطوات:

1. **افتح صفحة الفترات الزمنية**
   - انتقل إلى `/projects-committee/periods`

2. **انقر على "إنشاء فترة جديدة"**
   - زر في أعلى الصفحة

3. **املأ بيانات الفترة**:
   - **الاسم** (مطلوب): مثال: "فترة التسجيل - الفصل الأول 2024"
   - **النوع** (مطلوب): اختر **"تسجيل في المشاريع"** (`project_registration`)
   - **تاريخ البداية** (مطلوب): متى تفتح الفترة
   - **تاريخ النهاية** (مطلوب): متى تغلق الفترة (يجب أن يكون بعد تاريخ البداية)
   - **السنة الأكاديمية** (اختياري): مثال: "2024-2025"
   - **الفصل الدراسي** (اختياري): مثال: "الأول" أو "الثاني"

4. **انقر على "إعلان الفترة"**
   - سيتم إنشاء الفترة وتفعيلها تلقائياً (`is_active = true`)

### مثال:

```
الاسم: فترة التسجيل - ربيع 2024
النوع: تسجيل في المشاريع
تاريخ البداية: 2024-01-15
تاريخ النهاية: 2024-02-15
السنة الأكاديمية: 2023-2024
الفصل الدراسي: الربيع
```

## كيفية تعديل فترة موجودة

1. في جدول الفترات، انقر على أيقونة **التعديل** (Edit) بجانب الفترة
2. عدّل البيانات المطلوبة:
   - يمكنك تغيير التواريخ
   - يمكنك تفعيل/إيقاف الفترة (`is_active`)
3. انقر على **"تحديث"**

## كيفية تفعيل/إيقاف فترة

### تفعيل فترة:
- عند إنشاء فترة جديدة، يتم تفعيلها تلقائياً
- أو قم بتعديل فترة موجودة وحدد `is_active = true`

### إيقاف فترة:
- قم بتعديل الفترة وحدد `is_active = false`
- أو احذف الفترة إذا لم تعد مطلوبة

## ملاحظات مهمة

### 1. الفترات المتعددة
- يمكن أن تكون عدة فترات نشطة في نفس الوقت
- مثال: يمكن أن تكون فترة تقديم المقترحات وفترة التسجيل مفتوحة معاً

### 2. التحقق التلقائي
- النظام يتحقق تلقائياً من أن الفترة نشطة قبل السماح بالإجراءات
- الطلاب لن يتمكنوا من التسجيل إذا كانت الفترة مغلقة

### 3. لجنة المشاريع تتجاوز الفترات
- أعضاء لجنة المشاريع يمكنهم تنفيذ الإجراءات في أي وقت
- الفترات الزمنية لا تنطبق عليهم

### 4. التواريخ
- تأكد من أن تاريخ النهاية بعد تاريخ البداية
- النظام يتحقق من أن الفترة نشطة بناءً على التاريخ الحالي

## السيناريو الكامل: من المقترحات إلى التسجيل

### الخطوة 1: فتح فترة تقديم المقترحات
```
1. إنشاء فترة جديدة
2. النوع: "تقديم المقترحات"
3. التواريخ: مثال 2024-01-01 إلى 2024-01-31
4. إعلان الفترة
```

### الخطوة 2: مراجعة المقترحات
- بعد انتهاء فترة تقديم المقترحات
- لجنة المشاريع تراجع المقترحات
- تعتمد/ترفض/تطلب تعديل

### الخطوة 3: إعلان المشاريع
- بعد اعتماد المقترحات
- لجنة المشاريع تُعلن المشاريع (تغيير الحالة إلى `available_for_registration`)

### الخطوة 4: فتح فترة التسجيل ⭐
```
1. إنشاء فترة جديدة
2. النوع: "تسجيل في المشاريع"
3. التواريخ: مثال 2024-02-01 إلى 2024-02-28
4. إعلان الفترة
```

### الخطوة 5: مراجعة طلبات التسجيل
- الطلاب يقدمون طلبات التسجيل
- لجنة المشاريع تراجع وتوافق/ترفض
- بعد الموافقة، يمكن للطلاب إدارة المجموعات

## التحقق من حالة الفترات

### في الواجهة:
- يمكنك رؤية جميع الفترات في الجدول
- الحالة النشطة/غير النشطة واضحة
- التواريخ معروضة

### للطلاب:
- يظهر تنبيه في صفحة المشاريع إذا كانت الفترة مغلقة
- رسالة: "فترة التسجيل غير مفتوحة حالياً"

## نصائح أفضل الممارسات

1. **خطط مسبقاً**: أنشئ الفترات قبل موعدها بوقت كاف
2. **تواريخ واقعية**: تأكد من إعطاء وقت كاف للطلاب
3. **التواصل**: أعلن عن الفترات للطلاب مسبقاً
4. **المراقبة**: راقب عدد التسجيلات خلال الفترة
5. **المرونة**: يمكنك تمديد الفترة إذا لزم الأمر

## الأسئلة الشائعة

### س: هل يمكن أن تكون هناك أكثر من فترة تسجيل نشطة؟
**ج**: نعم، لكن عادة ما تكون فترة واحدة نشطة في كل مرة لتجنب الارتباك.

### س: ماذا يحدث إذا انتهت الفترة أثناء تسجيل الطلاب؟
**ج**: الطلاب الذين بدأوا التسجيل قبل انتهاء الفترة لن يتمكنوا من إكماله. تأكد من إعطاء وقت كاف.

### س: هل يمكنني إعادة فتح فترة منتهية؟
**ج**: نعم، قم بتعديل الفترة وعدّل تاريخ النهاية أو أنشئ فترة جديدة.

### س: كيف أعرف كم طالب سجل خلال الفترة؟
**ج**: يمكنك مراجعة صفحة "إدارة طلبات التسجيل" لرؤية جميع الطلبات.

## مثال عملي كامل

### السيناريو: فتح التسجيل للفصل الربيعي 2024

```
1. [2024-01-15] إنشاء فترة تقديم المقترحات
   - من: 2024-01-15
   - إلى: 2024-01-31
   - النوع: proposal_submission

2. [2024-02-01] مراجعة المقترحات واعتمادها

3. [2024-02-05] إعلان المشاريع المعتمدة

4. [2024-02-10] إنشاء فترة التسجيل
   - من: 2024-02-10
   - إلى: 2024-02-28
   - النوع: project_registration
   - ✅ الآن يمكن للطلاب التسجيل!

5. [2024-02-28] مراجعة طلبات التسجيل والموافقة عليها

6. [بعد الموافقة] الطلاب يمكنهم إدارة المجموعات
```

## الدعم

إذا واجهت مشاكل في إدارة الفترات:
- تأكد من أن التواريخ صحيحة
- تحقق من أن النوع صحيح
- تأكد من تفعيل الفترة (`is_active = true`)
- راجع سجلات النظام للتحقق من الأخطاء
